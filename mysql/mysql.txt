USE server_sd;

CREATE TABLE netconf ( names VARCHAR(24) NOT NULL, host VARCHAR(24) NOT NULL, tcpport INT NOT NULL, tcicle INT NOT NULL, timeaut INT NOT NULL, tpause INT NOT NULL, tbldata VARCHAR(24) NOT NULL, tblarch VARCHAR(24) NOT NULL, PRIMARY KEY (names)) CHARACTER SET utf8 COLLATE utf8_general_ci;
INSERT netconf (names,host,tcpport,tcicle,timeaut,tpause,tbldata,tblarch) VALUES ('s_vds5_tm','10.0.10.47',4001,20000,700,200,'data_ai','arch_ai');
INSERT netconf (names,host,tcpport,tcicle,timeaut,tpause,tbldata,tblarch) VALUES ('s_vds5_di','10.0.10.47',4002, 1000,700,200,'data_di','arch_di');
INSERT netconf (names,host,tcpport,tcicle,timeaut,tpause,tbldata,tblarch) VALUES ('s_vds1_tm','10.0.10.46',4001,20000,700,200,'data_ai','arch_ai');
INSERT netconf (names,host,tcpport,tcicle,timeaut,tpause,tbldata,tblarch) VALUES ('s_vds1_zz','10.0.10.46',4002, 2000,700,200,'data_ai','arch_ai');

CREATE TABLE devices ( id INT NOT NULL, adr INT(3) NOT NULL, driver VARCHAR(24) NOT NULL, name VARCHAR(24) NOT NULL, reg INT(3) NOT NULL, param VARCHAR(24) NOT NULL, format VARCHAR(24) NOT NULL, sname VARCHAR(24), PRIMARY KEY (id)) CHARACTER SET utf8 COLLATE utf8_general_ci;
INSERT devices(id,adr,driver,name,reg,param,format,sname ) VALUES (1, 1, 'ELEMER', 'TM5132', 4, '6;0;4;f;', '-50.0/150.0', 'x');
INSERT devices(id,adr,driver,name,reg,param,format,sname ) VALUES (13, 21, 'DCON', 'MB110_16D', 16, ';;;b;', '0/1', 's_vds5_di');
INSERT devices(id,adr,driver,name,reg,param,format,sname ) VALUES (14, 1, 'OWEN', 'PLC160_AI', 1, ';;;f;', '0/1000', 's_vds1_ai');

CREATE TABLE arch_ai ( id INT NOT NULL, reg INT NOT NULL, utime INT NOT NULL, data INT NOT NULL, PRIMARY KEY (id, reg, utime) ) CHARACTER SET utf8 COLLATE utf8_general_ci;
CREATE TABLE arch_di ( id INT NOT NULL, reg INT NOT NULL, utime INT NOT NULL, data INT NOT NULL, PRIMARY KEY (id, reg, utime) ) CHARACTER SET utf8 COLLATE utf8_general_ci;

CREATE TABLE data_ai ( id INT NOT NULL, reg INT NOT NULL, utime INT NOT NULL, data INT NOT NULL, diap INT NOT NULL, modif FLOAT NOT NULL, param VARCHAR(40), comment VARCHAR(40), flag INT, PRIMARY KEY (id, reg) ) CHARACTER SET utf8 COLLATE utf8_general_ci;
CREATE TABLE data_di ( id INT NOT NULL, reg INT NOT NULL, utime INT NOT NULL, data INT NOT NULL, diap INT NOT NULL, modif FLOAT NOT NULL, param VARCHAR(40), comment VARCHAR(40), flag INT, PRIMARY KEY (id, reg) ) CHARACTER SET utf8 COLLATE utf8_general_ci;

CREATE TABLE object ( id INT NOT NULL, reg INT NOT NULL, obj VARCHAR(24) NOT NULL, oborud VARCHAR(24), name VARCHAR(24), param VARCHAR(32), comment VARCHAR(42), PRIMARY KEY (id, reg) ) CHARACTER SET utf8 COLLATE utf8_general_ci;
CREATE TABLE object ( ident VARCHAR(24) NOT NULL, ceh VARCHAR(24) NOT NULL, obj VARCHAR(24) NOT NULL, id INT NOT NULL, reg INT NOT NULL, PRIMARY KEY (id, reg) ) CHARACTER SET utf8 COLLATE utf8_general_ci;


